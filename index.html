<!DOCTYPE html><html><head><script src="site/js/fgRuntime.js"></script><script src="site/js/fg.js"></script><link rel="stylesheet"href="site/css/style.css" /><meta charset="utf-8" /><meta name="viewport"content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /><title> Fg-js homepage</title><script type="text/javascript"src="site/js/bundle.js"></script><script src="site/js/codemirror.js"></script><link rel="stylesheet"href="site/css/codemirror.css" /><link rel="stylesheet"href="site/css/monokai.css" /><script src="site/js/modes/javascript/javascript.js"></script><script src="site/js/modes/jade/jade.js"></script></head><body><h1> Fg-js homepage</h1><p> Fg-js is a small library that allows to create and use components. “Fg” is a short form for “fragment”. The library is design to:<ul><li> provide tools for jade-like templating;</li><li> data-binding;</li><li> develop frontend using component style;</li></ul></p><p> It’s not a framework so you can integrate it into your application without any changes in exist architecture.</p><h2> Conception</h2><p> One of the goals to create fg-js was to separate logic and template. </p><p> First of all let’s take a look at simple Jade template:</p><div class="editor"><textarea id="jade-exmp"></textarea></div><p> It takes data like this:</p><div class="editor"><textarea id="json-exmp"></textarea></div><p> ...and returns html string;</p><p> I see at least 2 problems in this approach:<ul> </ul></p><p> Fg-js suggests another way:<ul><li> the dumbest template;</li><li> the pure JavaScript for preprocessing data to render;</li></ul></p><p> Simplified idea is dividing templates into *fragments* of 3 kinds:<ul><li> regular html;</li><li> data blocks - which are just pieces of data converted to string;</li><li> repeated regions - parts of the template which are repeated from any amount of times (including zero);</li></ul></p><p> You can find live-demo below:	</p><div class="choseExmpBox"><label> Load example:&nbsp;</label><select id="exmpSelect"></select></div><div class="col2"><div onclick=""class="editor-wrap"><h4> Micro-jade* code:</h4><div class="editor"><textarea id="jade-src"></textarea></div></div><div class="editor-wrap data-editor"><h4> Data:<div id="state"><svg style="display: none;"xmlns="http://www.w3.org/2000/svg"width="24"height="24"viewbox="0 0 24 24"class="err"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 16.094l-4.157-4.104 4.1-4.141-1.849-1.849-4.105 4.159-4.156-4.102-1.833 1.834 4.161 4.12-4.104 4.157 1.834 1.832 4.118-4.159 4.143 4.102 1.848-1.849z"></path></svg><svg style="display: none;"xmlns="http://www.w3.org/2000/svg"width="24"height="24"viewbox="0 0 24 24"class="ok"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.393 7.5l-5.643 5.784-2.644-2.506-1.856 1.858 4.5 4.364 7.5-7.643-1.857-1.857z"></path></svg></div></h4><div class="editor"><textarea id="data-src"></textarea></div></div></div><div class="col2"><div><p> Here are 2 snippets:</p><ul> </ul><p> You render the template via pressing "Apply" and then you will be able to see updating the document when you change the related data (there is an icon to show is it a valid JSON).</p><p> Also you can change template and press "Apply" again to rebuild the structure of the document. </p><p> Press "Apply" to rebuild document</p><a href="#"id="apply"class="btn"> Apply</a></div></div><div class="col2"><div class="editor-wrap"><h4> Result:</h4><div id="result"></div></div></div><h2> How to use	</h2><p> To start working with fg-js install it with npm:</p><pre class="code">npm i fg-js</pre><p> After that you need to create a <i>store</i> for your fragments of following structure:</p><pre class="code">/root_folder_for_fragments
&nbsp;&nbsp;&nbsp;&nbsp;/name_of_your_fragment
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/tpl.jade // template
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/class.js // logic of thefragment
&nbsp;&nbsp;&nbsp;&nbsp;/another_fragment
...</pre><p> You need to compile the fragments for frontend then.</p><p> It can be done only ones while building your project, thus no need to rebuild it any time when a page is requested.</p><p> You can see builder example below:</p><pre class="code">var fg = require('fg-js');
&nbsp;
// building your set of fragments
fg.build('./fg', './build.js', function(err){
&nbsp;&nbsp;&nbsp;&nbsp;if (err){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.error(err);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;
&nbsp;&nbsp;&nbsp;&nbsp;};
&nbsp;&nbsp;&nbsp;&nbsp;console.log('done!');
});</pre><p> This snippet takes fragment sources from './fg' folder and compile it to './build.js' file, that you may include in your web application.</p><p> Now you can render the fragment to your page in the following way:</p><pre class="code">$fg.classes.greeter.renderIn(document.body, {data: {}});</pre><p> Where</p><ul><li> greeter - is your fragment class;</li><li> document.body - is future parent for a fragment</li><li> {data: {}} - is data to be rendered with the template</li></ul><p> Example of <i>tpl.jade</i> file:</p><pre class="code">div.greating hello world</pre><p> And example of <i>class.js</i> file:</p><pre class="code">fgClass.on('ready', function(){
&nbsp;&nbsp;&nbsp;&nbsp;console.log('Greater is ready');
});</pre><p><b> Full documentation is not completed yet, but work in progress.</b></p><script type="text/javascript"src="site/js/index.js"></script><script>//$fg.classes.main.renderIn(document.body, {});
//$fg.classes.test.renderIn(document.body, {sub: {value: 22}});</script></body></html>